<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>UncertainDataset · UncertainData.jl documentation</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">UncertainData.jl documentation</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">UncertainData.jl</a></li><li><span class="tocitem">Uncertain values</span><ul><li><a class="tocitem" href="../../uncertain_values/uncertainvalues_overview/">Uncertain value types</a></li><li><a class="tocitem" href="../../uncertain_values/uncertainvalues_theoreticaldistributions/">Theoretical distributions</a></li><li><a class="tocitem" href="../../uncertain_values/uncertainvalues_kde/">Kernel density estimated distributions</a></li><li><a class="tocitem" href="../../uncertain_values/uncertainvalues_fitted/">Fitted theoretical distributions</a></li><li><a class="tocitem" href="../../uncertain_values/uncertainvalues_certainvalue/">Generic constructor</a></li><li><a class="tocitem" href="../../uncertain_values/uncertainvalues_populations/">Weighted populations</a></li><li><a class="tocitem" href="../../uncertain_values/uncertainvalues_Measurements/">Generic constructor</a></li><li><a class="tocitem" href="../../uncertain_values/merging/">Nomenclature</a></li><li><a class="tocitem" href="../../uncertain_values/uncertainvalues_examples/">Example 1: Uncertain values defined by theoretical distributions</a></li></ul></li><li><span class="tocitem">Uncertain datasets</span><ul><li><a class="tocitem" href="../../uncertain_datasets/uncertain_datasets_overview/">Types of uncertain value collections</a></li><li><a class="tocitem" href="../../uncertain_datasets/uncertain_index_dataset/">Uncertain index datasets</a></li><li><a class="tocitem" href="../../uncertain_datasets/uncertain_value_dataset/">Uncertain value datasets</a></li><li><a class="tocitem" href="../../uncertain_datasets/uncertain_indexvalue_dataset/">Uncertain index-value datasets</a></li><li><a class="tocitem" href="../../uncertain_datasets/uncertain_dataset/">Generic uncertain datasets</a></li></ul></li><li><span class="tocitem">Uncertain statistics</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Core statistics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../uncertain_statistics/core_stats/core_statistics/">Statistics on uncertain values and collections</a></li><li><a class="tocitem" href="../../uncertain_statistics/core_stats/core_statistics_point_estimates/">Point-estimate statistics</a></li><li><a class="tocitem" href="../../uncertain_statistics/core_stats/core_statistics_pairwise_estimates/">Pairwise estimates of statistics</a></li><li><a class="tocitem" href="../../uncertain_statistics/core_stats/core_statistics_datasets_single_dataset_estimates/">Statistics on single collections of uncertain data</a></li><li><a class="tocitem" href="../../uncertain_statistics/core_stats/core_statistics_datasets_pairwise_estimates/">Pairwise statistics on uncertain data collections</a></li><li><a class="tocitem" href="../../uncertain_statistics/core_stats/core_statistics_datasets/">Statistics on datasets of uncertain values</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Hypothesis tests</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../uncertain_statistics/hypothesistests/hypothesis_tests_overview/">Hypothesis tests for uncertain values and collections</a></li><li><a class="tocitem" href="../../uncertain_statistics/hypothesistests/one_sample_t_test/">One-sample t-test</a></li><li><a class="tocitem" href="../../uncertain_statistics/hypothesistests/equal_variance_t_test/">Equal variance t-test</a></li><li><a class="tocitem" href="../../uncertain_statistics/hypothesistests/unequal_variance_t_test/">Unequal variance t-test</a></li><li><a class="tocitem" href="../../uncertain_statistics/hypothesistests/exact_kolmogorov_smirnov_test/">Exact two-sample Kolmogorov-Smirnov test</a></li><li><a class="tocitem" href="../../uncertain_statistics/hypothesistests/approximate_twosample_kolmogorov_smirnov_test/">Approximate two-sample Kolmogorov-Smirnov test</a></li><li><a class="tocitem" href="../../uncertain_statistics/hypothesistests/jarque_bera_test/">Jarque-Bera test</a></li><li><a class="tocitem" href="../../uncertain_statistics/hypothesistests/mann_whitney_u_test/">Mann-Whitney U-test</a></li><li><a class="tocitem" href="../../uncertain_statistics/hypothesistests/anderson_darling_test/">Anderson-darling test</a></li></ul></li></ul></li><li><span class="tocitem">Sampling constraints</span><ul><li><a class="tocitem" href="../../sampling_constraints/available_constraints/">Available sampling constraints</a></li><li><a class="tocitem" href="../../sampling_constraints/constrain_uncertain_values/">Documentation</a></li><li><a class="tocitem" href="../../sampling_constraints/sequential_constraints/">Increasing/decreasing</a></li></ul></li><li><span class="tocitem">Binning</span><ul><li><a class="tocitem" href="../../binning/bin/">Binning scalar values</a></li></ul></li><li><span class="tocitem">Resampling</span><ul><li><a class="tocitem" href="../resampling_overview/">Overview</a></li><li><a class="tocitem" href="../resampling_uncertain_values/">Resampling uncertain values</a></li><li class="is-active"><a class="tocitem" href><code>UncertainDataset</code></a><ul class="internal"><li><a class="tocitem" href="#Single-realisation"><span>Single realisation</span></a></li><li><a class="tocitem" href="#Same-constraint-applied-to-all-values"><span>Same constraint applied to all values</span></a></li><li><a class="tocitem" href="#Different-constraints-applied-to-each-value"><span>Different constraints applied to each value</span></a></li><li><a class="tocitem" href="#Multiple-realisations"><span>Multiple realisations</span></a></li><li><a class="tocitem" href="#Different-constraints-applied-to-each-value-2"><span>Different constraints applied to each value</span></a></li><li><a class="tocitem" href="#Examples"><span>Examples</span></a></li></ul></li><li><a class="tocitem" href="../resampling_uncertain_indexvalue_datasets/"><code>UncertainIndexValueDataset</code></a></li><li><a class="tocitem" href="../sequential/resampling_uncertaindatasets_sequential/">Is a particular constraint applicable?</a></li><li><a class="tocitem" href="../sequential/resampling_indexvalue_sequential/">Resampling syntax</a></li><li><a class="tocitem" href="../sequential/strictly_increasing/">Strictly increasing</a></li><li><a class="tocitem" href="../sequential/strictly_decreasing/">Strictly decreasing</a></li><li><a class="tocitem" href="../interpolation/interpolation/">Supported interpolations</a></li><li><a class="tocitem" href="../interpolation/gridded/">Grids</a></li><li><a class="tocitem" href="../resampling_schemes/resampling_schemes_uncertain_value_collections/">List of resampling schemes and their purpose</a></li><li><a class="tocitem" href="../resampling_schemes/resampling_schemes_uncertain_indexvalue_collections/">List of resampling schemes and their purpose</a></li><li><a class="tocitem" href="../resampling_schemes/resampling_with_schemes_uncertain_value_collections/">Resampling with schemes</a></li><li><a class="tocitem" href="../resampling_schemes/resampling_with_schemes_uncertain_indexvalue_collections/">Resampling schemes</a></li><li><a class="tocitem" href="../resampling_inplace/">In-place resampling</a></li></ul></li><li><span class="tocitem">Propagation of errors</span><ul><li><a class="tocitem" href="../../propagation_of_errors/propagation_of_errors/">Exact error propagation</a></li></ul></li><li><span class="tocitem">Mathematics</span><ul><li><a class="tocitem" href="../../mathematics/elementary_operations/">Elementary mathematical operations</a></li><li><a class="tocitem" href="../../mathematics/trig_functions/">Trigonometric functions</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/tutorial_overview/">Regularising uncertain data</a></li><li><a class="tocitem" href="../../tutorials/tutorial_transforming_data_to_regular_grid/">Transforming uncertain data to a regular grid</a></li></ul></li><li><a class="tocitem" href="../../implementing_algorithms_for_uncertaindata/">Extending existing algorithms for uncertain data types</a></li><li><a class="tocitem" href="../../changelog/">Changelog</a></li><li><a class="tocitem" href="../../publications/">Publications/software</a></li><li><a class="tocitem" href="../../citing/">Citing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Resampling</a></li><li class="is-active"><a href><code>UncertainDataset</code></a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href><code>UncertainDataset</code></a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/kahaaga/UncertainData.jl/blob/master/docs/src/resampling/resampling_uncertain_datasets.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="UncertainDataset"><a class="docs-heading-anchor" href="#UncertainDataset"><code>UncertainDataset</code></a><a id="UncertainDataset-1"></a><a class="docs-heading-anchor-permalink" href="#UncertainDataset" title="Permalink"></a></h1><p>Collections of uncertain values are resampled by element-wise sampling the  furnishing distributions of the uncertain values in the collection. You may sample the collection as it is, or apply <a href="../../sampling_constraints/available_constraints/">sampling constraints</a> that limit the  support of the individual data value distributions.</p><p>The following methods will work for any collection type included in the <a href="../../uncertain_datasets/uncertain_datasets_overview/#UncertainData.UncertainDatasets.UVAL_COLLECTION_TYPES"><code>UVAL_COLLECTION_TYPES</code></a> type union.</p><h2 id="Single-realisation"><a class="docs-heading-anchor" href="#Single-realisation">Single realisation</a><a id="Single-realisation-1"></a><a class="docs-heading-anchor-permalink" href="#Single-realisation" title="Permalink"></a></h2><h3 id="No-constraint"><a class="docs-heading-anchor" href="#No-constraint">No constraint</a><a id="No-constraint-1"></a><a class="docs-heading-anchor-permalink" href="#No-constraint" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{UVAL_COLLECTION_TYPES{UD, UV} where {UD&lt;:AbstractUncertainValueDataset, UV&lt;:(AbstractVector{T} where T&lt;:AbstractUncertainValue)}}" href="#UncertainData.Resampling.resample-Tuple{UVAL_COLLECTION_TYPES{UD, UV} where {UD&lt;:AbstractUncertainValueDataset, UV&lt;:(AbstractVector{T} where T&lt;:AbstractUncertainValue)}}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">resample(x::UVAL_COLLECTION_TYPES, constraint::SamplingConstraint, n::Int) -&gt; Vector{Vector{T}} where T</code></pre><p>Resample <code>x</code> (a collection of uncertain values) once by drawing a single random number from  each of the uncertain values in <code>x</code>.</p><p>See also <a href="../../uncertain_datasets/uncertain_datasets_overview/#UncertainData.UncertainDatasets.UVAL_COLLECTION_TYPES"><code>UVAL_COLLECTION_TYPES</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia"># Generate some uncertain values represented by gamma distributions
uvals = [UncertainValue(Gamma(i, rand())) for i = 1:100]

# Resample the collection once 
resample(uvals)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kahaaga/UncertainData.jl/blob/0c8558eabf626a9bab2c619a6fe42ecc938a5046/src/resampling/uncertain_dataset/resample_uncertaindataset_value.jl#L132-L149">source</a></section></article><h2 id="Same-constraint-applied-to-all-values"><a class="docs-heading-anchor" href="#Same-constraint-applied-to-all-values">Same constraint applied to all values</a><a id="Same-constraint-applied-to-all-values-1"></a><a class="docs-heading-anchor-permalink" href="#Same-constraint-applied-to-all-values" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{UVAL_COLLECTION_TYPES{UD, UV} where {UD&lt;:AbstractUncertainValueDataset, UV&lt;:(AbstractVector{T} where T&lt;:AbstractUncertainValue)}, SamplingConstraint}" href="#UncertainData.Resampling.resample-Tuple{UVAL_COLLECTION_TYPES{UD, UV} where {UD&lt;:AbstractUncertainValueDataset, UV&lt;:(AbstractVector{T} where T&lt;:AbstractUncertainValue)}, SamplingConstraint}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">resample(x::UVAL_COLLECTION_TYPES, constraint::SamplingConstraint) -&gt; Vector{T} where T</code></pre><p>Resample <code>x</code> (a collection of uncertain values) once, applying the provided sampling <code>constraint</code>.</p><p>Returns a <code>length(x)</code>-element vector. The <code>i</code>-th element of this vector is generated by  truncating the <code>i</code>-th uncertain value by the sampling <code>constraint</code>, then drawing a single random  number from the truncated value.</p><p>See also <a href="../../uncertain_datasets/uncertain_datasets_overview/#UncertainData.UncertainDatasets.UVAL_COLLECTION_TYPES"><code>UVAL_COLLECTION_TYPES</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia"># Generate some uncertain values where the `i`-th value is given by a normal 
# distribution with mean `i` and a standard deviation drawn from a uniform 
# distribution on `[0, 1]`.
uvals = [UncertainValue(Normal(i, rand())) for i = 1:100]

# Truncate each distribution at +- 0.5 standard deviations, then resample. 
resample(uvals, TruncateStd(0.5))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kahaaga/UncertainData.jl/blob/0c8558eabf626a9bab2c619a6fe42ecc938a5046/src/resampling/uncertain_dataset/resample_uncertaindataset_value.jl#L13-L35">source</a></section></article><h2 id="Different-constraints-applied-to-each-value"><a class="docs-heading-anchor" href="#Different-constraints-applied-to-each-value">Different constraints applied to each value</a><a id="Different-constraints-applied-to-each-value-1"></a><a class="docs-heading-anchor-permalink" href="#Different-constraints-applied-to-each-value" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{UVAL_COLLECTION_TYPES{UD, UV} where {UD&lt;:AbstractUncertainValueDataset, UV&lt;:(AbstractVector{T} where T&lt;:AbstractUncertainValue)}, Vector{var&quot;#s25&quot;} where var&quot;#s25&quot;&lt;:SamplingConstraint}" href="#UncertainData.Resampling.resample-Tuple{UVAL_COLLECTION_TYPES{UD, UV} where {UD&lt;:AbstractUncertainValueDataset, UV&lt;:(AbstractVector{T} where T&lt;:AbstractUncertainValue)}, Vector{var&quot;#s25&quot;} where var&quot;#s25&quot;&lt;:SamplingConstraint}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">resample(x::UVAL_COLLECTION_TYPES, constraint::Vector{&lt;:SamplingConstraint}) -&gt; Vector{T} where T</code></pre><p>Resample <code>x</code> (a collection of uncertain values) once, applying the provided sampling <code>constraint</code>s. The number of constraints must match the number of elements in <code>x</code>.</p><p>Returns a <code>length(x)</code>-element vector. The <code>i</code>-th element of this vector is generated by  truncating the <code>i</code>-th uncertain value by the <code>i</code>-th sampling <code>constraint</code>, then drawing a single random  number from the truncated value. </p><p>See also <a href="../../uncertain_datasets/uncertain_datasets_overview/#UncertainData.UncertainDatasets.UVAL_COLLECTION_TYPES"><code>UVAL_COLLECTION_TYPES</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia"># Generate some uncertain values where the `i`-th value is given by a normal 
# distribution with mean `i` and a standard deviation drawn from a uniform 
# distribution on `[0, 1]`.
uvals = [UncertainValue(Normal(i, rand())) for i = 1:100]

# Truncate each distribution at +- 0.5 standard deviations, then resample. 
resample(uvals, TruncateStd(0.5))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kahaaga/UncertainData.jl/blob/0c8558eabf626a9bab2c619a6fe42ecc938a5046/src/resampling/uncertain_dataset/resample_uncertaindataset_value.jl#L40-L63">source</a></section></article><h2 id="Multiple-realisations"><a class="docs-heading-anchor" href="#Multiple-realisations">Multiple realisations</a><a id="Multiple-realisations-1"></a><a class="docs-heading-anchor-permalink" href="#Multiple-realisations" title="Permalink"></a></h2><h3 id="No-constraint-2"><a class="docs-heading-anchor" href="#No-constraint-2">No constraint</a><a class="docs-heading-anchor-permalink" href="#No-constraint-2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{UVAL_COLLECTION_TYPES{UD, UV} where {UD&lt;:AbstractUncertainValueDataset, UV&lt;:(AbstractVector{T} where T&lt;:AbstractUncertainValue)}, Int64}" href="#UncertainData.Resampling.resample-Tuple{UVAL_COLLECTION_TYPES{UD, UV} where {UD&lt;:AbstractUncertainValueDataset, UV&lt;:(AbstractVector{T} where T&lt;:AbstractUncertainValue)}, Int64}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">resample(uvd::UVAL_COLLECTION_TYPES, n::Int) -&gt; Vector{Vector{T}}</code></pre><p>Draw <code>n</code> realisations of an uncertain value dataset according to the distributions of the uncertain values comprising it.</p><p>See also <a href="../../uncertain_datasets/uncertain_datasets_overview/#UncertainData.UncertainDatasets.UVAL_COLLECTION_TYPES"><code>UVAL_COLLECTION_TYPES</code></a>. </p><p><strong>Example</strong></p><pre><code class="language-julia"># Generate some uncertain values represented by gamma distributions
uvals = [UncertainValue(Gamma(i, rand())) for i = 1:100]

# Resample the collection once 
resample(uvals)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kahaaga/UncertainData.jl/blob/0c8558eabf626a9bab2c619a6fe42ecc938a5046/src/resampling/uncertain_dataset/resample_uncertaindataset_value.jl#L155-L172">source</a></section></article><h3 id="Same-constraint-applied-to-all-values-2"><a class="docs-heading-anchor" href="#Same-constraint-applied-to-all-values-2">Same constraint applied to all values</a><a class="docs-heading-anchor-permalink" href="#Same-constraint-applied-to-all-values-2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{UVAL_COLLECTION_TYPES{UD, UV} where {UD&lt;:AbstractUncertainValueDataset, UV&lt;:(AbstractVector{T} where T&lt;:AbstractUncertainValue)}, SamplingConstraint, Int64}" href="#UncertainData.Resampling.resample-Tuple{UVAL_COLLECTION_TYPES{UD, UV} where {UD&lt;:AbstractUncertainValueDataset, UV&lt;:(AbstractVector{T} where T&lt;:AbstractUncertainValue)}, SamplingConstraint, Int64}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">resample(x::UVAL_COLLECTION_TYPES, constraint::SamplingConstraint, n::Int) -&gt; Vector{Vector{T}} where T</code></pre><p>Resample <code>x</code> (a collection of uncertain values) <code>n</code> times, applying the provided sampling <code>constraint</code>.</p><p>Returns an <code>n</code>-element vector of <code>length(x)</code>-element vectors. Each of these vectors is an independent  draw from <code>x</code>. The <code>i</code>-th element of each draw is generated by truncating the <code>i</code>-th uncertain value by  the sampling <code>constraint</code>, then drawing a single random number from the truncated value.</p><p>See also <a href="../../uncertain_datasets/uncertain_datasets_overview/#UncertainData.UncertainDatasets.UVAL_COLLECTION_TYPES"><code>UVAL_COLLECTION_TYPES</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia"># Generate some uncertain values where the `i`-th value is given by a normal 
# distribution with mean `i` and a standard deviation drawn from a uniform 
# distribution on `[0, 1]`.
uvals = [UncertainValue(Normal(i, rand())) for i = 1:100]

# Truncate the first 50 elements at the 90th percentile range, and the 
# last 50 elements at the 40th percentile range.
constraints = [i &lt;= 50 ? TruncateQuantiles(0.05, 0.95) : TruncateQuantiles(0.3, 0.7) for i = 1:100]

# Truncate the distributions, then draw ten independent realisations of the collection subject
# to the provided constraints.
resample(uvals, constraints, 10)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kahaaga/UncertainData.jl/blob/0c8558eabf626a9bab2c619a6fe42ecc938a5046/src/resampling/uncertain_dataset/resample_uncertaindataset_value.jl#L68-L95">source</a></section></article><h2 id="Different-constraints-applied-to-each-value-2"><a class="docs-heading-anchor" href="#Different-constraints-applied-to-each-value-2">Different constraints applied to each value</a><a class="docs-heading-anchor-permalink" href="#Different-constraints-applied-to-each-value-2" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{UVAL_COLLECTION_TYPES{UD, UV} where {UD&lt;:AbstractUncertainValueDataset, UV&lt;:(AbstractVector{T} where T&lt;:AbstractUncertainValue)}, Vector{var&quot;#s25&quot;} where var&quot;#s25&quot;&lt;:SamplingConstraint, Int64}" href="#UncertainData.Resampling.resample-Tuple{UVAL_COLLECTION_TYPES{UD, UV} where {UD&lt;:AbstractUncertainValueDataset, UV&lt;:(AbstractVector{T} where T&lt;:AbstractUncertainValue)}, Vector{var&quot;#s25&quot;} where var&quot;#s25&quot;&lt;:SamplingConstraint, Int64}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">resample(x::UVAL_COLLECTION_TYPES, constraint::Vector{&lt;:SamplingConstraint}, n::Int) -&gt; Vector{Vector{T}} where T</code></pre><p>Resample <code>x</code> (a collection of uncertain values) <code>n</code> times, applying the provided sampling <code>constraint</code>s.</p><p>Returns an <code>n</code>-element vector of <code>length(x)</code>-element vectors. Each of these vectors is an independent  draw from <code>x</code>. The <code>i</code>-th element of each draw is generated by truncating the <code>i</code>-th uncertain value by  the <code>i</code>-th sampling <code>constraint</code>, then drawing a single random number from the truncated value.</p><p>See also <a href="../../uncertain_datasets/uncertain_datasets_overview/#UncertainData.UncertainDatasets.UVAL_COLLECTION_TYPES"><code>UVAL_COLLECTION_TYPES</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia"># Generate some uncertain values where the `i`-th value is given by a normal 
# distribution with mean `i` and a standard deviation drawn from a uniform 
# distribution on `[0, 1]`.
uvals = [UncertainValue(Normal(i, rand())) for i = 1:100]

# Truncate the first 50 elements at `± 0.5` standard deviations, and the 
# last 50 elements at `± 1.2` standar deviations.
constraints = [i &lt;= 50 ? TruncateStd(0.5) : TruncateStd(1.2) for i = 1:100]

# Apply the constraints element-wise, then draw ten independent realisations 
# of the collection subject to those constraints.
resample(uvals, constraints, 10)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kahaaga/UncertainData.jl/blob/0c8558eabf626a9bab2c619a6fe42ecc938a5046/src/resampling/uncertain_dataset/resample_uncertaindataset_value.jl#L100-L127">source</a></section></article><h2 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h2><h3 id="Resampling-with-sampling-constraints"><a class="docs-heading-anchor" href="#Resampling-with-sampling-constraints">Resampling with sampling constraints</a><a id="Resampling-with-sampling-constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Resampling-with-sampling-constraints" title="Permalink"></a></h3><p>Consider the following example where we had a bunch of different measurements. </p><p>The first ten measurements (<code>r1</code>) are normally distributed values with mean <code>μ = 0 ± 0.4</code>  and standard deviation <code>σ = 0.5 ± 0.1</code>. The next measurement <code>r2</code> is actually a sample  consisting of 9850 replicates. Upon plotting it, we see that it has some complex  distribution which  we have to estimate using a kernel density approach (calling  <code>UncertainValue</code> without any additional argument triggers kernel density estimation).  Next, we have distribution <code>r3</code> that upon plotting looks uniform, so we approximate it by a  uniform distribution. Finally, the last two uncertain values <code>r4</code> and <code>r5</code> are represented  by a normal and a gamma distribution with known parameters.</p><p>To plot these data, we gather them in an <code>UncertainDataset</code>.</p><pre><code class="language-julia">dist1 = Uniform(-0.4, 0.4)
dist2 = Uniform(-0.1, 0.1)
r1 = [UncertainValue(Normal, 0 + rand(dist), 0.5 + rand(dist2)) for i = 1:10]
 # now drawn from a uniform distribution, but simulates 
r2 = UncertainValue(rand(9850))
r3 = UncertainValue(Uniform, rand(10000))
r4 = UncertainValue(Normal, -0.1, 0.5)
r5 = UncertainValue(Gamma, 0.4, 0.8)

uvals = [r1; r2; r3; r4; r5]
udata = UncertainDataset(uvals);</code></pre><p>By default, the plot recipe for uncertain datasets will plot the median value with the  33rd to 67th percentile range (roughly equivalent to a one standard deviation for  normally distributed values). You may change the percentile range by providing a two-element vector to the plot function.</p><p>Let&#39;s demonstrate this by creating a function that plots the uncertain values with  errors bars covering the 0.1st to 99.9th, the 5th to 95th, and the 33rd to 67th percentile  ranges. The function will also take a sampling constraint, then resample the dataset  a number of times and plot the individual realizations as lines. </p><pre><code class="language-julia">using UncertainData, Plots

function resample_plot(data, sampling_constraint; n_resample_draws = 40) 
    p = plot(lw = 0.5)
    scatter!(data, [0.001, 0.999], seriescolor = :black)
    scatter!(data, [0.05, 0.95], seriescolor = :red)
    scatter!(data, [0.33, 0.67], seriescolor = :green)

    plot!(resample(data, sampling_constraint, n_resample_draws), 
        lc = :black, lw = 0.3, lα = 0.5)
    return p
end

# Now, resample using some different constraints and compare the plots
p1 = resample_plot(udata, NoConstraint())
title!(&quot;No constraints&quot;)
p2 = resample_plot(udata, TruncateQuantiles(0.05, 0.95))
title!(&quot;5th to 95th quantile range&quot;)
p3 = resample_plot(udata, TruncateQuantiles(0.33, 0.67))
title!(&quot;33th to 67th quantile range&quot;)
p4 = resample_plot(udata, TruncateMaximum(0.7))
title!(&quot;Truncate at maximum value = 0.7&quot;)

plot(p1, p2, p3, p4, layout = (4, 1), titlefont = font(8))</code></pre><p>This produces the following plot:</p><p><img src="../resampling_uncertain_datasets.png" alt/></p><h3 id="What-happens-when-applying-invalid-constraints-to-a-dataset?"><a class="docs-heading-anchor" href="#What-happens-when-applying-invalid-constraints-to-a-dataset?">What happens when applying invalid constraints to a dataset?</a><a id="What-happens-when-applying-invalid-constraints-to-a-dataset?-1"></a><a class="docs-heading-anchor-permalink" href="#What-happens-when-applying-invalid-constraints-to-a-dataset?" title="Permalink"></a></h3><p>In the example above, the resampling worked fine because all the constraints were  applicable to the data. However, it could happen that the constraint is not applicable  to all uncertain values in the dataset. For example, applying a <code>TruncateMaximum(2)</code>  constraint to an uncertain value <code>u</code> defined by <code>u = UncertainValue(Uniform, 4, 5)</code> would  not work, because the support of <code>u</code> would be empty after applying the constraint.</p><p>To check if a constraint yields a nonempty truncated uncertain value, use the  <code>support_intersection</code> function. If the result of `<code>support_intersection(uval1, uval2)</code>  for two uncertain values <code>uval1</code> and <code>uval2</code> is the empty set <code>∅</code>, then you&#39;ll run into  trouble.</p><p>To check for such cases for an entire dataset, you can use the  <code>verify_constraints(udata::AbstractUncertainValueDataset, constraint::SamplingConstraint)</code>  function. It will apply the constraint to each value and return the indices of the values  for which applying the constraint would result in a furnishing distribution whose support  is the empty set.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../resampling_uncertain_values/">« Resampling uncertain values</a><a class="docs-footer-nextpage" href="../resampling_uncertain_indexvalue_datasets/"><code>UncertainIndexValueDataset</code> »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 7 April 2021 13:19">Wednesday 7 April 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
